---
title: JavaScriptä¹‹æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨(åŸºæœ¬è¯­æ³•ä¸åº”ç”¨æ¡ˆä¾‹)
tags:
  - tags
categories: categories
date: 2017-08-15 09:20:09
---

## ç®€è¿°

æ­£åˆ™è¡¨è¾¾å¼çš„å®ç°æœ€æ—©æ¥è‡ª Unix ç³»ç»Ÿ, å¹¶ä¸æ˜¯ JS ä¸€å®¶ç‹¬æœ‰, è€Œæ˜¯ä¸€å¥—é€šç”¨è¯­æ³•, å„å®¶å®ç°ç•¥æœ‰ä¸åŒ.

è™½è¯´ç›®å‰ JS æŠ€æœ¯å‘å±•è¿…é€Ÿ, ä½†å¾ˆå¤šéƒ¨åˆ†éƒ½æ˜¯å€Ÿé‰´å…¶ä»–è¯­è¨€çš„ç‰¹æ€§å’Œæ¡†æ¶å‘å±•è€Œæ¥çš„.

å¾ˆå¤šäººå¯¹æ­£åˆ™å¤´ç—›, å¸¸å¸¸å†™åŒ¹é…æ—¶å¿˜è®°è¯­æ³•å¦‚ä½•å†™äº†. ğŸ˜‚

å¤æ‚åº¦è¾ƒé«˜çš„çš„ç»„åˆä½¿ç”¨, é˜…è¯»æ€§ä¹Ÿå¾ˆä½, ä¾‹å¦‚ `/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i` , è¿™æ˜¯ä¸€æ®µé‚®ç®±è®¤è¯çš„æ­£åˆ™.

æ­£åˆ™å‡ºç°çš„é¢‘ç‡å¹¶ä¸é«˜, å‡ºç°æ—¶å´æœ‰`å°šæ–¹å®å‰‘`çš„æ•ˆæœ, èƒ½ä¸€æ‹›è§æ•ˆ, è¾¾æˆç›®çš„, æ­£åˆ™æ˜¯æˆ‘ä»¬æ‹¿æ¥ç²¾å‡†åŒ¹é…å’Œæ›¿æ¢çš„åˆ©å™¨.

æœ¬ç¯‡æ—¨åœ¨æ¢ç´¢åŸºæœ¬è¯­æ³•åœ¨å®é™…ä¸­çš„åº”ç”¨.

## åŸºæœ¬è¯­æ³•


|     å­—ç¬¦    |                                       å«ä¹‰                                      |
|-------------|---------------------------------------------------------------------------------|
| .           | ä»»æ„ä¸€ä¸ªå­—ç¬¦,ä¸åŒ…æ‹¬ `\n\r`                                                      |
| ^           | ä»¥ä»€ä¹ˆå¼€å§‹                                                                      |
| $           | ä»¥ä»€ä¹ˆç»“æŸ                                                                      |
| *           | å…ƒå­—ç¬¦å‡ºç°0æˆ–å¤šæ¬¡                                                               |
| +           | å…ƒå­—ç¬¦å‡ºç°1æˆ–å¤šæ¬¡                                                               |
| ?           | å…ƒå­—ç¬¦å‡ºç°0æˆ–1æ¬¡                                                                |
| {n}         | å‡ºç°næ¬¡                                                                         |
| {n,}        | å‡ºç°æœ€å°‘næ¬¡                                                                     |
| {n,m}       | å‡ºç°nåˆ°mæ¬¡ä¹‹é—´                                                                  |
| [  ]        | åŒ¹é…`\n`ä»¥å¤–çš„å•å­—å­—ç¬¦                                                          |
| [ab]        | åŒ¹é…aæˆ–b                                                                        |
| [a-d]       | åŒ¹é…ä¸€ä¸ªaåˆ°dä¹‹é—´çš„å°å†™å­—æ¯                                                      |
| %[^a-zA-Z]% | ä¸¤ä¸ªç™¾åˆ†å·ä¹‹é—´ä¸åº”è¯¥å‡ºç°å­—æ¯, `^`                                               |
| \b          | å•è¯è¾¹ç•Œ                                                                        |
| \d          | åŒ¹é…ä¸€ä¸ªæ•°å­—                                                                    |
| \D          | åŒ¹é…ä¸€ä¸ªéæ•°å­—                                                                  |
| \s          | åŒ¹é…ä¸€ä¸ªç©ºç™½å­—ç¬¦                                                                |
| \S          | åŒ¹é…ä¸€ä¸ªéç©ºç™½å­—ç¬¦                                                              |
| \w          | åŒ¹é…ä¸€ä¸ªéç‰¹æ®Šå­—ç¬¦, åŒ…æ‹¬_                                                       |
| \W          | åŒ¹é…ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦                                                                |
| \           | è½¬ä¹‰å­—ç¬¦, æ­£åˆ™è¯­æ³•ä¸­`^.$()Â¦*+?{}\`å¦‚éœ€è¦åŒ¹é…å­—ç¬¦ä¸²ä¸­å¯¹åº”å­—ç¬¦éœ€è¦ä½¿ç”¨è½¬ä¹‰å­—ç¬¦`\` |
| g           | å…¨å±€æ›¿æ¢                                                                        |
| i           | å¿½ç•¥å¤§å°å†™                                                                      |


## ç›¸å…³å±æ€§å’Œæ–¹æ³•

### æ­£åˆ™å®ä¾‹çš„å±æ€§

![image.png](http://upload-images.jianshu.io/upload_images/4434201-4c96ce1a603b302a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å®ä¾‹æ‹¥æœ‰5ä¸ªå±æ€§:

- globalï¼šæ˜¯å¦å…¨å±€æœç´¢ï¼Œé»˜è®¤æ˜¯false
- ignoreCaseï¼šæ˜¯å¦å¤§å°å†™æ•æ„Ÿï¼Œé»˜è®¤æ˜¯false
- multilineï¼šå¤šè¡Œæœç´¢ï¼Œé»˜è®¤å€¼æ˜¯false
- lastIndexï¼šæ˜¯å½“å‰è¡¨è¾¾å¼æ¨¡å¼é¦–æ¬¡åŒ¹é…å†…å®¹ä¸­æœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œæ¯æ¬¡æ­£åˆ™è¡¨è¾¾å¼æˆåŠŸåŒ¹é…æ—¶ï¼ŒlastIndexå±æ€§å€¼éƒ½ä¼šéšä¹‹æ”¹å˜ã€‚
- sourceï¼šæ­£åˆ™è¡¨è¾¾å¼çš„æ–‡æœ¬å­—ç¬¦ä¸²

### æ­£åˆ™åŸå‹çš„æ–¹æ³•

æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„æ–¹æ³•åˆ›é€ ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼,

```js
// new ä¸€ä¸ª
let pattern1 = new RegExp('abc');
// å­—é¢é‡ç”Ÿæˆ
let pattern2 = /^\S/;
```

è¿™ä¸¤ç§åˆ›é€ æ­£åˆ™è¡¨è¾¾å¼çš„æ•ˆæœæ˜¯ç›¸åŒçš„.

å¯ä»¥ç”¨ new æ¥ç”Ÿæˆå®ä¾‹, å¯è§ RegExp æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°, é‚£æˆ‘ä»¬å°±å»ä»–çš„åŸå‹ä¸Šçœ‹çœ‹éƒ½æœ‰å“ªäº›æ–¹æ³•å¯ç”¨.

```js
Object.prototype.toString.call(RegExp)
// [object Function]
```

![image.png](http://upload-images.jianshu.io/upload_images/4434201-87c2a40e83bbae47.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

æˆ‘ä»¬å¯ä»¥çœ‹åˆ°, æœ‰ä¸‹é¢3ä¸ªå¯ç”¨çš„æ–¹æ³•:

- test
- exec
- compile

#### test()

test ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨ç¬¦åˆæ­£åˆ™åŒ¹é…è§„åˆ™çš„å­—ç¬¦, å­˜åœ¨è¿”å› true, ä¸å­˜åœ¨è¿”å› false.

```js
let part = /o/g;
let ret = part.test('Hello World');
console.log(ret);
// true
```

#### exec()

exec ç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­æ˜¯å¦å­˜åœ¨ç¬¦åˆæ­£åˆ™åŒ¹é…è§„åˆ™çš„å­—ç¬¦, å­˜åœ¨è¿”å›ä¸€ä¸ªæ•°ç»„, åŒ…å«åŒ¹é…åˆ°çš„å­—ç¬¦, ä¸å­˜åœ¨è¿”å› null .

```js
let part = /o/g;
let ret = part.exec('Hello World');
console.log(ret);
// ["o", index: 4, input: "Hello World"]
```

å¦‚æœå…¨å±€åŒ¹é…, å¤šæ¬¡è¿è¡Œ, ä¼šè¿”å›åé¢æ–°åŒ¹é…åˆ°çš„ç´¢å¼•.

```js
let part = /e/g;
do {
result=part.exec("The best things in life are free");
console.log(result);
} while (result!=null)
// ["e", index: 2, input: "The best things in life are free"]
// ["e", index: 5, input: "The best things in life are free"]
// ["e", index: 22, input: "The best things in life are free"]
// ["e", index: 26, input: "The best things in life are free"]
// ["e", index: 30, input: "The best things in life are free"]
// ["e", index: 31, input: "The best things in life are free"]
```

#### compile()

compile ç”¨äºæ›¿æ¢æ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…è§„åˆ™, ç¼–è¯‘æ­£åˆ™ä¸ºæ¥è¿‘è®¡ç®—æœºåº•å±‚ç¼–ç æ ¼å¼.

```js
let part = /e/;

// æ–¹æ³• 1
part.compile('abc','g');
console.log(part);
// /abc/g

// æ–¹æ³• 2
part.compile(/def/);
console.log(part);
// /def/
```

åˆ°è¿™é‡Œæœ‰äººå¯èƒ½æœ‰ç–‘é—®äº†, è¿™å’Œæˆ‘é‡æ–°èµ‹å€¼ä¸€ä¸ªæ–°çš„æ­£åˆ™è¡¨è¾¾å¼æœ‰ä»€ä¹ˆåŒºåˆ«?

åŒºåˆ«è¿˜æ˜¯æœ‰çš„, æˆ‘ä»¬ä½¿ç”¨çš„ç¼–ç¨‹è¯­è¨€æ˜¯ç»ç”±æœºå™¨ç å¤šæ¬¡ç¼–è¯‘è€Œæ¥çš„, compile å¯ä»¥ç¼–è¯‘ä¸ºä¾¿äºè®¡ç®—æœºç†è§£çš„ä»£ç , æå‡è¿è¡Œé€Ÿåº¦.

ç®€å•çš„åŒ¹é…æ—¶æ²¡æœ‰æ˜æ˜¾é€Ÿåº¦å·®å¼‚çš„, å¦‚æœæ˜¯å¤§æ•°æ®, æ•°æ®ä½“é‡æå¤§, æ­£åˆ™çš„æ‰§è¡Œé€Ÿåº¦å·®å¼‚å°±ä½“ç°å‡ºæ¥äº†.

### å­—ç¬¦ä¸²å’Œæ­£åˆ™ç›¸å…³çš„æ–¹æ³•

å­—ç¬¦ä¸²åŸå‹ä¸Šæœ‰4ä¸ªæ–¹æ³•å’Œæ­£åˆ™ç›¸å…³è”.

- String.prototype.search
- String.prototype.match
- String.prototype.replace
- String.prototype.split

#### String.prototype.search

search ç”¨äºæ£€ç´¢å­—ç¬¦ä¸²çš„åˆ¶å®šå­å­—ç¬¦ä¸², è¿”å›ç´¢å¼•ä½ç½®(Numberç±»å‹), æ£€ç´¢ä¸æˆåŠŸè¿”å› `-1`, å‚æ•°å¯ç”¨å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é….

ä¸èƒ½å…¨å±€æ£€ç´¢, åªèƒ½åŒ¹é…ä¸€æ¬¡, å¿½ç•¥ `g`, åŒ¹é…æˆåŠŸç«‹å³è¿”å›.

```js
let str = 'Hello World';
console.log(str.search('H')); // 0
console.log(str.search('h')); // -1

console.log(str.search(/World/)); // 6
```

#### String.prototype.match

```js
let str = 'Hello World';
```

å•æ¬¡åŒ¹é…, è¿”å›ä¸€ä¸ªæ•°ç»„, åŒ…å« index å±æ€§ å’Œ input å±æ€§, index ä¸ºåŒ¹é…åˆ°çš„ç´¢å¼•ä½ç½®, input ä¸ºè¢«åŒ¹é…çš„çˆ¶å­—ç¬¦ä¸², è¿”å›å€¼ä¸ exec ç›¸åŒ.

![image.png](http://upload-images.jianshu.io/upload_images/4434201-2285affda4cfb35d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

å…¨å±€åŒ¹é…, è¿”å›ä¸€ä¸ªæ•°ç»„, ä¸åŒ…å« index å±æ€§ å’Œ input å±æ€§, åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²ä¼šä»¥æ•°ç»„å½¢å¼æ”¾ç½®, è¿”å›å€¼ä¸ exec ä¸åŒ.

![image.png](http://upload-images.jianshu.io/upload_images/4434201-099a43019f059498.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

#### String.prototype.replace

replace æ–¹æ³•å¹¶ä¸æ”¹å˜å­—ç¬¦ä¸²æœ¬èº«, è€Œæ˜¯è¿”å›æ›¿æ¢åçš„æ–°å­—ç¬¦ä¸².

```js
let str = 'Hello World';
str.replace('o','aaa') // "Hellaaa World"

str.replace(/o/gi, 0) // "Hell0 W0rld"
```

replace çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°, å‚æ•°æœ‰å¦‚ä¸‹è¿™äº›

| å‚æ•°       | ä»£è¡¨çš„æ•°å€¼                                                                                                      |
| match      | åŒ¹é…çš„å­å­—ç¬¦ä¸²                                                                                                  |
| p1,p2, ... | åŒ¹é…çš„æ¯ä¸ªå­—ç¬¦ä¸²                                                                                                |
| offset     | åŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„åç§»é‡ã€‚ï¼ˆæ¯”å¦‚ï¼Œå¦‚æœåŸå­—ç¬¦ä¸²æ˜¯â€œabcdâ€ï¼ŒåŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²æ˜¯â€œbcâ€ï¼Œé‚£ä¹ˆè¿™ä¸ªå‚æ•°å°†æ˜¯1ï¼‰ |
| string     | è¢«åŒ¹é…çš„åŸå­—ç¬¦ä¸²                                                                                                |

```js
function replacer(match, p1, p2, p3, offset, string) {
  // p1 is nondigits, p2 digits, and p3 non-alphanumerics
  return [p1, p2, p3].join(' - ');
}
var newString = 'abc12345#$*%'.replace(/([^\d]*)(\d*)([^\w]*)/, replacer); // 'abc - 12345 - #$*%'ï¼š
```

å·²å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°, å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç‰¹æ®Šè¯­å¥:

| ç‰¹æ®Šå­—ç¬¦ |                                             å«ä¹‰                                             |
|----------|----------------------------------------------------------------------------------------------|
| `$$`       | æ’å…¥ä¸€ä¸ª "$"ã€‚                                                                               |
| `$&`       | æ’å…¥åŒ¹é…çš„å­ä¸²ã€‚                                                                             |
| `$``       | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚                                                               |
| `$' `      | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚                                                               |
| `$n `      | å‡å¦‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ RegExpå¯¹è±¡ï¼Œå¹¶ä¸” n æ˜¯ä¸ªå°äº100çš„éè´Ÿæ•´æ•°ï¼Œé‚£ä¹ˆæ’å…¥ç¬¬ n ä¸ªæ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚ |

```js
// äº¤æ¢å­—ç¬¦ä¸²ä¸­çš„ä¸¤ä¸ªå•è¯
var re = /(\w+)\s(\w+)/;
var str = "John Smith";
var newstr = str.replace(re, "$2, $1");
console.log(newstr);
// Smith, John
```



#### String.prototype.split

split çš„å‚æ•°å¯ä»¥ç”¨å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…

```js
let str = 'HellosWorld';
str.split(/s/); // ["Hello", "World"]
```


## åº”ç”¨æ¡ˆä¾‹

### è¡¨å•éªŒè¯

å¾…è¡¥å……




## å‚è€ƒèµ„æ–™

- W3C
- MDN